<?xml version="1.0" standalone="yes"?>
<beast>

	<parameter id="data" value="1 3 3 4"/>

	<randomField id="gmrf">
		<distribution>
			<GaussianMarkovRandomField dim="4" matchPseudoDeterminant="true">
				<precision>
					<parameter id="precision" value="1.5"/>
				</precision>
				<mean>
					<parameter id="mean" value="0.0"/>
				</mean>
			</GaussianMarkovRandomField>
		</distribution>
		<data>
			<parameter idref="data"/>
		</data>
	</randomField>


	<report>
		<randomField idref="gmrf"/>
	</report>

	<randomFieldGradient id="gradient">
		<randomField idref="gmrf"/>
		<parameter idref="data"/>
	</randomFieldGradient>

	<report>
		<randomFieldGradient idref="gradient"/>
	</report>

	<randomFieldGradient id="gradientPrecision">
		<randomField idref="gmrf"/>
		<parameter idref="precision"/>
	</randomFieldGradient>

	<report>
		<randomFieldGradient idref="gradientPrecision"/>
	</report>

	<randomFieldGradient id="gradientMean">
		<randomField idref="gmrf"/>
		<parameter idref="mean"/>
	</randomFieldGradient>

	<report>
		<randomFieldGradient idref="gradientMean"/>
	</report>

	<randomField id="gmrfProper">
		<distribution>
			<GaussianMarkovRandomField dim="4" matchPseudoDeterminant="true">
				<precision>
					<parameter id="precisionProper" value="1.5"/>
				</precision>
				<mean>
					<parameter id="meanProper" value="0.0"/>
				</mean>
				<lambda>
					<parameter id="lambda" value="0.9"/>
				</lambda>
			</GaussianMarkovRandomField>
		</distribution>
		<data>
			<parameter idref="data"/>
		</data>
	</randomField>


	<report>
		<randomField idref="gmrfProper"/>
	</report>

	<randomFieldGradient id="gradientProper">
		<randomField idref="gmrfProper"/>
		<parameter idref="data"/>
	</randomFieldGradient>

	<report>
		<randomFieldGradient idref="gradientProper"/>
	</report>

	<randomFieldGradient id="gradientPrecisionProper">
		<randomField idref="gmrfProper"/>
		<parameter idref="precisionProper"/>
	</randomFieldGradient>

	<report>
		<randomFieldGradient idref="gradientPrecisionProper"/>
	</report>

	<randomFieldGradient id="gradientMeanProper">
		<randomField idref="gmrfProper"/>
		<parameter idref="meanProper"/>
	</randomFieldGradient>

	<report>
		<randomFieldGradient idref="gradientMeanProper"/>
	</report>


</beast>
